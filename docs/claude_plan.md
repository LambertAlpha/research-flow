## 核心架构决策

### 1. Multi-Agent 系统 (基于 LangGraph)

**决策**: 使用 LangGraph 构建 Multi-Agent 系统,支持 Agent Debate 和 Rebuttal 机制

**理由**:
- **后续需求**: 计划实现 Agent 辩论(Debate)和反驳(Rebuttal)机制,需要复杂的 Agent 协作流程
- **状态管理**: LangGraph 提供强大的状态图管理,便于实现"分析师提出观点 → 主编质疑 → 分析师修正"的循环
- **可扩展性**: 后续可以轻松添加"看涨分析师 vs 看跌分析师"的辩论节点

**实现方式**:
```
LangGraph StateGraph:

    [START]
        ↓
    [主编 Agent] - 分解任务 → [数据工兵 Agent] - 抓取数据
        ↓                           ↓
    [图表艺术家 Agent] - 生成图表    ↓
        ↓                           ↓
    [资深分析师 Agent] - 撰写文案 ← 合并数据
        ↓
    [主编审核节点] - 质量检查
        ↓ (不通过)
    [反驳机制] - 主编提出质疑 → 分析师修正 (最多2轮)
        ↓ (通过)
    [辩论机制 - 可选] - 看涨 vs 看跌分析师辩论
        ↓
    [最终合成] - 主编整合所有观点
        ↓
    [END]
```

**Agent 辩论机制设计** (后续扩展):
- **双 Agent 辩论**: 同时启动"看涨分析师"和"看跌分析师",基于相同数据生成不同观点
- **主编仲裁**: 主编 Agent 综合双方观点,生成更平衡的分析
- **反驳轮次**: 最多 2 轮辩论,避免无限循环